<!doctype html><html class="" data-reactroot=""><head><link rel="icon" type="image/png" href="/favicon.png"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css" integrity="sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X" crossorigin="anonymous"/>
<meta data-react-helmet="true" charset="utf-8"/><meta data-react-helmet="true" http-equiv="x-ua-compatible" content="ie=edge"/><meta data-react-helmet="true" name="description" content="我的图书馆"/><meta data-react-helmet="true" name="viewport" content="width=device-width, initial-scale=1"/>
<title data-react-helmet="true">React Native · ViktorHub</title>
<link data-react-helmet="true" rel="stylesheet" href="/assets/index.css"/><link data-react-helmet="true" id="prismTheme" rel="stylesheet" href="/assets/prism.css"/>
<script data-react-helmet="true" >
    const shouldSetIsDark = document.cookie.includes('is_dark=1') ? true : document.cookie.includes('is_dark=0') ? false : window.matchMedia('(prefers-color-scheme: dark)').matches;
    if (shouldSetIsDark) {
      document.documentElement.classList.add('is_dark');
      document.getElementById('prismTheme').href = "/assets/prism_tomorrow.css";
    }
  </script>
</head><body><header><h1 class="hide_on_mobile"><a href="/">ViktorHub</a></h1><nav><ul><li class="show_on_mobile flex_center"><a class="czs-menu-l" href="#" style="background-image:url(&quot;/assets/czs-menu-l.svg&quot;)"></a></li><li class="show_on_mobile"><h1 class="mobile_title"><a href="/">ViktorHub</a></h1></li><li class="hide_on_mobile"><a href="/collection/index.html">秘籍收藏</a></li><li class="hide_on_mobile"><a href="/interview/index.html">面霸心经</a></li><li class="hide_on_mobile"><a href="/start/index.html">修仙入门</a></li><li class="hide_on_mobile"><a href="/advanced/index.html">进阶功法</a></li><li class="hide_on_mobile"><a href="/crossover/RN.html">跨界码王</a></li><li class="hide_on_mobile"><a href="http://www.itdongdong.com" target="_blank">投桃报李</a></li><li style="flex-grow:1"></li><li class="flex_center"><a class="czs-github-logo" href="https://github.com/ViktorWong/my-docs" target="_blank" style="background-image:url(&quot;/assets/czs-github-logo.svg&quot;)"></a></li><li class="toggle_dark flex_center"><span class="czs-sun" style="background-image:url(&quot;/assets/czs-sun.svg&quot;)"></span><span class="czs-sun-l" style="background-image:url(&quot;/assets/czs-sun-l.svg&quot;)"></span><span class="czs-moon" style="background-image:url(&quot;/assets/czs-moon.svg&quot;)"></span><span class="czs-moon-l" style="background-image:url(&quot;/assets/czs-moon-l.svg&quot;)"></span></li></ul></nav></header><aside class="sidebar"><ol class="list_style_none"><li class="unfold"><a href="/crossover/RN.html" class="nav_link active">React Native<span class="czs-angle-up-l" style="background-image:url(&quot;/assets/czs-angle-up-l.svg&quot;)"></span><span class="czs-angle-down-l" style="background-image:url(&quot;/assets/czs-angle-down-l.svg&quot;)"></span></a><ol class="list_style_none" style="height:auto"></ol></li></ol></aside><section class="main"><div class="main_article"><article><h1 id="react-native">React Native<a class="anchor" href="#react-native">§</a></h1>
<h2 id="%E4%BC%98%E5%8A%BF">优势<a class="anchor" href="#%E4%BC%98%E5%8A%BF">§</a></h2>
<ul>
<li>跨平台 （只有 0.2% 的平台特定代码）</li>
<li>统一的设计语言，同时还能为不同平台提供不同设计</li>
<li>React 的 scale 很好。组件化，简单的生命周期,声明式</li>
<li>迭代速度快（主要是 hot reloading 很快）</li>
<li>大量基础设施的投入值得（网络、国际化、复杂动画、设备信息、用户信息等等都是通过一- 个桥把原生 api 暴露给 RN 的。）</li>
<li>同时他们在这里也指出：他们并不相信在一个已有 app 上集成 RN 是一件简单事儿，必须- 要大量且持续地投入基础设施才行（说好的「满意的地方」呢）</li>
<li>性能 （尽管大家都担心但是其实基本没有问题）</li>
<li>不过首次渲染比较慢，导致不适合用作启动屏、deeplink，也增加了可交互时间（TTI），另外掉帧不好 debug（说好的「满意的地方」呢）</li>
<li>Redux（好用，虽然废话太多）</li>
<li>背后是原生，一些曾经不确定能不能做的功能（Shared element transitions、动画库 Lottie、网络层、核心基础设施）发现都能做</li>
<li>静态分析（eslint，prettier，一些性能检测）</li>
<li>动画</li>
<li>JS/React 的开源生态</li>
<li>Flexbox</li>
<li>有时候可以加上 Web 跨三端</li>
</ul>
<h2 id="%E5%8A%A3%E5%8A%BF">劣势<a class="anchor" href="#%E5%8A%A3%E5%8A%BF">§</a></h2>
<ul>
<li>论成熟度，稳定性，RN 比 不上 iOS 和 Android 原生。</li>
<li>由于 RN 的 Bug，有时我们必须维护自己的一个 RN 分支。</li>
<li>JS 缺少类型系统，Flow 太严格，TS 集成到已有项目也还有问题。</li>
<li>不好重构（JS 没有类型无法静态分析，重构引起的错误不能在编译时被捕捉到）</li>
<li>JavaScriptCore 不一致性，更糟糕的是，现在都 8102 年了，RN （Android）带的还是不支持 ES 6 的 JSC</li>
<li>RN 开源库质量参差不齐。比如在 iOS 上正常的库在 Android 上可能有意想不到的错误（因为为作者也许只熟悉 iOS 和 RN,并不熟悉 Android）
有时不得不白手起家，因为很多的基础框架中的库还没有 的 RN 封装。</li>
<li>崩溃监控库在 RN 上表现不是特别特定业。内没方案，只能自己搞。</li>
<li>Native Bridge 的由于 JS 的弱类型造成 Native 与 JS 通信 中类型的不匹配，容易造成错误。</li>
<li>启动时间，RN 框架初始化需要几秒，即使是在高端机器上。</li>
<li>新开页面的渲染时间，0.4 秒左右页面第一次渲染费时。</li>
<li>APP 大小。至少增加 12M。</li>
<li>直到目前都无法在 Android 上支持 64 位。</li>
<li>手势，iOS 和 Android 的手势 API 差距很大，不过喜闻 react-native-gesture-handler 发布了 1.0 版本。</li>
<li>长列表，虽然 RN 团队很努力了，但是由于 RN 的异步通信机制，长列表的流畅渲染，目前依然无解。</li>
<li>React Native 升级是个坑。</li>
<li>RN 中的 Accessibility 就是个大坑。</li>
<li>还有一些奇怪的 Bug，暂没有修复。</li>
<li>SavedInstanceState 在 Android 上跨进程的坑。</li>
</ul>
<h2 id="%E4%B8%8D%E6%98%AF%E6%8A%80%E6%9C%AF%E9%97%AE%E9%A2%98%E7%9A%84%E9%97%AE%E9%A2%98">不是技术问题的问题<a class="anchor" href="#%E4%B8%8D%E6%98%AF%E6%8A%80%E6%9C%AF%E9%97%AE%E9%A2%98%E7%9A%84%E9%97%AE%E9%A2%98">§</a></h2>
<ul>
<li>要用好 RN 你必须同时熟悉 iOS 和 Android ，当然还有 RN 本身，这就对我们工程师提出了更多挑战。</li>
<li>团队的管理，责任的划分。</li>
<li>RN 文档及相关资源不如 iOS 和 Android 的丰富。</li>
</ul></article><div id="gitalk-container"></div><link id="gitalk-css" rel="preload" href="https://cdn.pagic.org/gitalk@1.6.2/dist/gitalk.css" as="style"/><script defer="" src="https://cdn.pagic.org/gitalk@1.6.2/dist/gitalk.min.js"></script></div><aside class="main_toc_container nav_link_container"><div class="main_toc"><nav class="toc"><ol><li><a href="#react-native">React Native</a><ol><li><a href="#%E4%BC%98%E5%8A%BF">优势</a></li><li><a href="#%E5%8A%A3%E5%8A%BF">劣势</a></li><li><a href="#%E4%B8%8D%E6%98%AF%E6%8A%80%E6%9C%AF%E9%97%AE%E9%A2%98%E7%9A%84%E9%97%AE%E9%A2%98">不是技术问题的问题</a></li></ol></li></ol></nav></div></aside></section><footer>Powered by <a href="https://github.com/xcatliu/pagic" target="_blank">Pagic</a></footer><div class="tools flex_center hide_on_mobile"><a class="czs-pen button" href="https://github.com/ViktorWong/my-docs/edit/master/docs/crossover/RN.md" target="_blank" style="background-image:url(&quot;/assets/czs-pen.svg&quot;)"></a><a class="czs-angle-up-l button" href="#" style="background-image:url(&quot;/assets/czs-angle-up-l.svg&quot;)"></a></div><script src="https://cdn.pagic.org/react@16.13.1/umd/react.production.min.js"></script><script src="https://cdn.pagic.org/react-dom@16.13.1/umd/react-dom.production.min.js"></script><script type="module" src="/index.js"></script></body></html>